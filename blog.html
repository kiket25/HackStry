<!doctype html>
<html class="no-js" lang="ES">
<head>
  <meta charset="utf-8">
  <title>HackStry</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">
  <link rel="stylesheet" href="css/style.css">
  <meta name="theme-color" content="#fafafa">
</head>

<body>

<header>
    <img src="img/logo.png" alt="Logotipo HackStry" width="200">
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="blog.html">Blog</a></li>
      <li><a href="about.html">About Me</a></li>
    </ul>
  </nav>
</header>

<main>
  <h1>Blog sobre Ciberseguridad y Sistemas</h1>  

  <!-- Sección de posts recientes -->
  <section id="recent-posts" class="posts-container">
    <!-- Aquí se cargarán dinámicamente los posts -->
  </section>

  <!-- Vista detallada del post -->
  <div id="post-detail" class="post-detail" style="display:none;">
      <span class="close">&times;</span>
      <div id="post-content"></div>
  </div>
  
</main>

<footer>
  <p>® 2024 HackStry. Todos los derechos reservados</p>
</footer>

<script>
  // Cargar JSON y mostrar posts
  fetch('posts.json')
    .then(response => response.json())
    .then(posts => {
        const postsContainer = document.getElementById('recent-posts');
        posts.forEach(post => {
            const postElement = document.createElement('article');
            postElement.innerHTML = `
                <img src="${post.image}" alt="${post.title}">
                <h2>${post.title}</h2>
                <p>${post.description}</p>
                <button onclick="showPostDetail(${JSON.stringify(post)})">Ver más</button>
            `;
            postsContainer.appendChild(postElement);
        });
    })
    .catch(error => {
        console.error('Error al cargar los posts:', error);
    });

  function showPostDetail(post) {
      const postDetail = document.getElementById('post-detail');
      const postContent = document.getElementById('post-content');

      postContent.innerHTML = `
          <h2>${post.title}</h2>
          <p><strong>Categoría:</strong> ${post.category}</p>
          <p>${post.description}</p>
          ${post.fileType === 'pdf' ? `<a href="${post.content}" target="_blank">Abrir PDF</a>` : `<p>Contenido: ${post.content}</p>`}
      `;
      
      postDetail.style.display = 'block';
  }
</script>

</body>
</html>